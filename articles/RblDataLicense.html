<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Connecting R to Bloomberg Data License • RblDataLicense</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Connecting R to Bloomberg Data License">
<meta property="og:description" content="RblDataLicense">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-112916657-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-112916657-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RblDataLicense</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eguidotti/RblDataLicense/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Connecting R to Bloomberg Data License</h1>
                        <h4 data-toc-skip class="author">Emanuele
Guidotti</h4>
            
            <h4 data-toc-skip class="date">2023-03-09</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/eguidotti/RblDataLicense/blob/HEAD/vignettes/RblDataLicense.Rmd" class="external-link"><code>vignettes/RblDataLicense.Rmd</code></a></small>
      <div class="hidden name"><code>RblDataLicense.Rmd</code></div>

    </div>

    
    
<p>The <strong>RblDataLicense</strong> package aims at providing an easy
R interface to access prices and market data with the <strong>Bloomberg
Data License</strong> service. Unlike the <a href="https://cran.r-project.org/package=Rblpapi" class="external-link">Rblpapi</a> package
for Bloomberg Terminal users, <a href="https://cran.r-project.org/package=RblDataLicense" class="external-link">RblDataLicense</a>
does not require the user to set up any working Bloomberg installation.
As a prerequisite, a valid Data License from Bloomberg is needed
together with the corresponding SFTP credentials and whitelisting of the
IP from which accessing the service.</p>
<p><em>This software and its author are in no way affiliated, endorsed,
or approved by “Bloomberg” or any of its affiliates. “Bloomberg” is a
registered trademark.</em></p>
<div class="section level2">
<h2 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h2>
<p>As a prerequisite, a valid Data License from Bloomberg is needed
together with the corresponding SFTP credentials and whitelisting of the
IP from which accessing the service. The credentials consist of the
username and password needed to authenticate requests. As an additional
security measure, all requests are blocked by default and are only
accepted if coming from a whitelisted IP address. The user needs to
inform Bloomberg of the IP addresses from which accessing the service.
Only correctly authenticated requests from whitelisted IP will work.</p>
<p>The Bloomberg Data License Service is billed on a pay-per-use model,
based on the amount of instruments and data categories requested. The
RblDataLicense package implements several checks to protect the user
against unintended programming errors and to help keeping costs under
control. In any case, to avoid incurring unexpected expenses, the user
should carefully read the Bloomberg contract before accessing the Data
License Service with this or any other software.</p>
<p>RblDataLicense is built on top of <a href="https://cran.r-project.org/package=RCurl" class="external-link">RCurl</a>, a wrapper for
<a href="https://curl.se/libcurl/" class="external-link">libcurl</a>. The package establishes
SFTP connections to Bloomberg Data License. On some Linux systems, this
may not work out of the box, as libcurl does not natively support SFTP.
In that case, the user needs to compile curl with SFTP support
first.</p>
</div>
<div class="section level2">
<h2 id="encryption">Encryption<a class="anchor" aria-label="anchor" href="#encryption"></a>
</h2>
<p>The package does NOT support encrypted files. As stated in the Data
License documentation:</p>
<p><em>With SFTP via the Internet, there is no need for additional
payload/content encryption. Clients are discouraged from using legacy
DES software encryption option. Existing clients still using DES
encryption can contact Customer Support to have DES payload/content
encryption removed from their account.</em></p>
</div>
<div class="section level2">
<h2 id="quickstart">Quickstart<a class="anchor" aria-label="anchor" href="#quickstart"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install RblDataLicense</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'RblDataLicense'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load RblDataLicense</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://rbldatalicense.eguidotti.com">'RblDataLicense'</a></span><span class="op">)</span></span></code></pre></div>
<p>As the very first step, the credentials received from Bloomberg to
access the SFTP server must be provided to the <code>RblConnect</code>
function. The function checks for the SFTP connection to be successful
and stores the credentials in the current R session. Then, all the other
functions of the package will be unlocked and ready to use.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># These are dummy credentials. Replace with the credentials received from Bloomberg</span></span>
<span><span class="fu"><a href="../reference/RblConnect.html">RblConnect</a></span><span class="op">(</span>user <span class="op">=</span> <span class="st">'dl000000'</span>, pw <span class="op">=</span> <span class="st">'0000000000000000'</span><span class="op">)</span> </span></code></pre></div>
<p>The user should now prepare a request file according to the
Bloomberg’s documentation, containing the instructions for the data to
retrieve. This file has to be uploaded to the SFTP server the user
owning a valid License has been granted access to. Upon receipt,
Bloomberg generates the corresponding response file containing the data.
This process can take up to several minutes, depending on the kind of
request. Once available, the user can download the response file from
the SFTP server and parse it to import the data in R.</p>
<div class="section level3">
<h3 id="step-by-step-example">Step by Step Example<a class="anchor" aria-label="anchor" href="#step-by-step-example"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build a request file to download the daily closing prices of</span></span>
<span><span class="co">#  EURO STOXX Index from 2005-01-01 to 2015-12-31</span></span>
<span><span class="va">RblRequest</span> <span class="op">&lt;-</span> </span>
<span>     <span class="fu"><a href="../reference/RblRequestBuilder.html">RblRequestBuilder</a></span><span class="op">(</span></span>
<span>          header <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>FIRMNAME <span class="op">=</span> <span class="fu"><a href="../reference/RblUser.html">RblUser</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                     PROGRAMNAME <span class="op">=</span> <span class="st">'gethistory'</span>,</span>
<span>             DATERANGE <span class="op">=</span> <span class="st">'20050101|20151231'</span><span class="op">)</span>,</span>
<span>          fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'PX_LAST'</span><span class="op">)</span>,</span>
<span>          identifiers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'SXXE Index'</span><span class="op">)</span></span>
<span>     <span class="op">)</span></span>
<span></span>
<span><span class="co"># Upload the request file</span></span>
<span><span class="va">req</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RblUpload.html">RblUpload</a></span><span class="op">(</span><span class="va">RblRequest</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download the response file</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RblDownload.html">RblDownload</a></span><span class="op">(</span><span class="va">req</span><span class="op">$</span><span class="va">out</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Import the data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RblParse.html">RblParse</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="all-in-one-example">All in One Example<a class="anchor" aria-label="anchor" href="#all-in-one-example"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RblQuery.html">RblQuery</a></span><span class="op">(</span>fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'PX_LAST'</span>, <span class="st">'PX_OPEN'</span>, <span class="st">'PX_HIGH'</span>, <span class="st">'PX_LOW'</span><span class="op">)</span>, </span>
<span>                 identifiers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'SXXE Index'</span>, <span class="st">"SX5E Index"</span><span class="op">)</span>, </span>
<span>                 from <span class="op">=</span> <span class="st">'2005-01-01'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>The RblDataLicense was developed at Algo Finance Sagl, software house
start-up developing financial algorithms for the asset management
industry. The Swiss company is gratefully acknowledged for open-sourcing
the software.</p>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>All code of the RblDataLicense is released under the <a href="https://cran.r-project.org/web/licenses/GPL-3" class="external-link">GNU GPL-3</a>. This
software and its author are in no way affiliated, endorsed, or approved
by “Bloomberg” or any of its affiliates. “Bloomberg” is a registered
trademark. All trademarks and registered trademarks are the property of
their respective owners.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://eguidotti.com" class="external-link">Emanuele Guidotti</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
